import{c as d,o as u,a as e,d as C,u as h,A as z,w as H,b as p,e as g,v as m,f as s,t as v,i as a,n as i,g as x,k as $,j as f,l as A}from"./app-B26E56ET.js";import{_ as B}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CnoWgKJS.js";import{u as V,i as M,a as T,b as L,c as U,r as D,d as K,e as S,E as j}from"./index-B7pUa-mG.js";import{r as I,a as q}from"./PaperClipIcon-Dkcuzmb5.js";import{r as E}from"./PaperAirplaneIcon-DAAJZNS8.js";function P(k,o){return u(),d("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"})])}const N={class:"bg-white shadow-sm p-8 rounded-lg"},R={class:"grid grid-cols-1 md:grid-cols-[150px_1fr] gap-x-8 gap-y-8"},F={key:0,class:"mt-2 text-sm text-red-600"},O={key:0,class:"mt-2 text-sm text-red-600"},G={key:0,class:"flex items-center flex-wrap gap-1 border border-b-0 border-gray-300 rounded-t-md p-2 bg-gray-50 text-gray-800"},J=["disabled"],W=["disabled"],Z={key:1,class:"mt-2 text-sm text-red-600"},Q={key:0,class:"mt-2 text-sm text-red-600"},X={key:0,class:"mt-2 text-sm text-red-600"},Y={class:"relative flex items-center w-full rounded-md border border-gray-300 bg-white shadow-sm px-4 py-2"},_={key:0,class:"mt-2 text-sm text-red-600"},tt={class:"mt-12 flex items-center justify-between"},et={class:"flex gap-4"},st=["disabled"],ot=["disabled"],dt=C({layout:B,__name:"Create",setup(k){const o=h({title:"",excerpt:"",content:"",category:"",tags:"",status:"Draft",image:null}),r=V({content:o.content,extensions:[M,T,L.configure({openOnClick:!1}),U.configure({types:["heading","paragraph"]})],onUpdate:({editor:b})=>{o.content=b.getHTML()},editorProps:{attributes:{class:"prose max-w-none w-full rounded-b-md border border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-4 min-h-[250px]"}}}),n=(b,t)=>{if(!r.value)return;r.value.chain().focus()[b](t).run()},w=()=>{if(!r.value)return;const b=r.value.getAttributes("link").href,t=window.prompt("URL",b);if(t!==null){if(t===""){r.value.chain().focus().extendMarkRange("link").unsetLink().run();return}r.value.chain().focus().extendMarkRange("link").setLink({href:t}).run()}};z(()=>{r.value?.destroy()});const c=()=>{o.status="Draft",o.post(route("admin.posts.store"))},y=()=>{o.status="Terbitkan",o.post(route("admin.posts.store"))};return(b,t)=>(u(),d("div",null,[t[49]||(t[49]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-black"},"Tambah Berita"),e("p",{class:"mt-1 text-black"},"Buat berita baru untuk website Fakultas Sains dan Teknologi Institut Teknologi Kalimantan")],-1)),e("div",N,[e("form",{onSubmit:t[20]||(t[20]=H(()=>{},["prevent"]))},[e("div",R,[t[39]||(t[39]=e("label",{for:"title",class:"pt-2 text-sm font-semibold text-black"},"Judul Berita *",-1)),e("div",null,[p(e("input",{type:"text",id:"title","onUpdate:modelValue":t[0]||(t[0]=l=>s(o).title=l),placeholder:"Masukkan judul berita",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},null,512),[[m,s(o).title]]),s(o).errors.title?(u(),d("p",F,v(s(o).errors.title),1)):g("",!0)]),t[40]||(t[40]=e("label",{for:"excerpt",class:"pt-2 text-sm font-semibold text-black"},"Ringkasan Berita *",-1)),e("div",null,[p(e("textarea",{id:"excerpt","onUpdate:modelValue":t[1]||(t[1]=l=>s(o).excerpt=l),placeholder:"Tulis ringkasan berita yang akan ditampilkan pada beranda",rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:""},null,512),[[m,s(o).excerpt]]),s(o).errors.excerpt?(u(),d("p",O,v(s(o).errors.excerpt),1)):g("",!0)]),t[41]||(t[41]=e("label",{for:"content",class:"pt-2 text-sm font-semibold text-black"},"Isi Konten Berita *",-1)),e("div",null,[s(r)?(u(),d("div",G,[e("button",{onClick:t[2]||(t[2]=l=>n("toggleBold")),type:"button",class:i([{"is-active":s(r).isActive("bold")},"toolbar-button"])},[...t[21]||(t[21]=[e("span",{class:"font-bold"},"B",-1)])],2),e("button",{onClick:t[3]||(t[3]=l=>n("toggleItalic")),type:"button",class:i([{"is-active":s(r).isActive("italic")},"toolbar-button"])},[...t[22]||(t[22]=[e("span",{class:"italic"},"I",-1)])],2),e("button",{onClick:t[4]||(t[4]=l=>n("toggleUnderline")),type:"button",class:i([{"is-active":s(r).isActive("underline")},"toolbar-button"])},[...t[23]||(t[23]=[e("span",{class:"underline"},"U",-1)])],2),e("button",{onClick:t[5]||(t[5]=l=>n("toggleStrike")),type:"button",class:i([{"is-active":s(r).isActive("strike")},"toolbar-button"])},[...t[24]||(t[24]=[e("span",{class:"line-through"},"S",-1)])],2),e("button",{onClick:w,type:"button",class:i([{"is-active":s(r).isActive("link")},"toolbar-button"])},[a(s(D),{class:"h-5 w-5"})],2),t[33]||(t[33]=e("div",{class:"toolbar-divider"},null,-1)),e("button",{onClick:t[6]||(t[6]=l=>n("toggleHeading",{level:2})),type:"button",class:i([{"is-active":s(r).isActive("heading",{level:2})},"toolbar-button"])},[...t[25]||(t[25]=[e("span",{class:"text-md font-bold"},"H2",-1)])],2),e("button",{onClick:t[7]||(t[7]=l=>n("toggleHeading",{level:3})),type:"button",class:i([{"is-active":s(r).isActive("heading",{level:3})},"toolbar-button"])},[...t[26]||(t[26]=[e("span",{class:"text-sm font-bold"},"H3",-1)])],2),e("button",{onClick:t[8]||(t[8]=l=>n("toggleBlockquote")),type:"button",class:i([{"is-active":s(r).isActive("blockquote")},"toolbar-button"])},[...t[27]||(t[27]=[e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M9.983 3v7.391c0 2.908-2.353 5.261-5.261 5.261v3.65c4.894 0 8.87-3.977 8.87-8.87V3h-3.609zM21.017 3v7.391c0 2.908-2.353 5.261-5.261 5.261v3.65c4.894 0 8.87-3.977 8.87-8.87V3h-3.609z"})],-1)])],2),t[34]||(t[34]=e("div",{class:"toolbar-divider"},null,-1)),e("button",{onClick:t[9]||(t[9]=l=>n("toggleBulletList")),type:"button",class:i([{"is-active":s(r).isActive("bulletList")},"toolbar-button"])},[...t[28]||(t[28]=[e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M4 4h2v2H4V4zm4 0h12v2H8V4zM4 11h2v2H4v-2zm4 0h12v2H8v-2zm-4 7h2v2H4v-2zm4 0h12v2H8v-2z"})],-1)])],2),e("button",{onClick:t[10]||(t[10]=l=>n("toggleOrderedList")),type:"button",class:i([{"is-active":s(r).isActive("orderedList")},"toolbar-button"])},[...t[29]||(t[29]=[e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M5.83 4.242H8v2H4.5V4.742l1.33-.5zM4.5 11h3.5v2H4.5v-2zm0 7h3.5v2H4.5v-2zM9.5 4h10v2h-10V4zm0 7h10v2h-10v-2zm0 7h10v2h-10v-2zM4.03 4.9v.8L2.5 7H4.5V9H1V4h1.5v.9l1.53-1.8z"})],-1)])],2),t[35]||(t[35]=e("div",{class:"toolbar-divider"},null,-1)),e("button",{onClick:t[11]||(t[11]=l=>n("setTextAlign","left")),type:"button",class:i([{"is-active":s(r).isActive({textAlign:"left"})},"toolbar-button"])},[...t[30]||(t[30]=[e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M3 4h18v2H3V4zm0 7h12v2H3v-2zm0 7h18v2H3v-2z"})],-1)])],2),e("button",{onClick:t[12]||(t[12]=l=>n("setTextAlign","center")),type:"button",class:i([{"is-active":s(r).isActive({textAlign:"center"})},"toolbar-button"])},[...t[31]||(t[31]=[e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M3 4h18v2H3V4zm3 7h12v2H6v-2zm-3 7h18v2H3v-2z"})],-1)])],2),e("button",{onClick:t[13]||(t[13]=l=>n("setTextAlign","right")),type:"button",class:i([{"is-active":s(r).isActive({textAlign:"right"})},"toolbar-button"])},[...t[32]||(t[32]=[e("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M3 4h18v2H3V4zm9 7h9v2h-9v-2zm-9 7h18v2H3v-2z"})],-1)])],2),t[36]||(t[36]=e("div",{class:"toolbar-divider"},null,-1)),e("button",{onClick:t[14]||(t[14]=l=>n("undo")),type:"button",disabled:!s(r).can().undo(),class:"toolbar-button"},[a(s(K),{class:"h-5 w-5"})],8,J),e("button",{onClick:t[15]||(t[15]=l=>n("redo")),type:"button",disabled:!s(r).can().redo(),class:"toolbar-button"},[a(s(S),{class:"h-5 w-5"})],8,W)])):g("",!0),a(s(j),{editor:s(r)},null,8,["editor"]),s(o).errors.content?(u(),d("p",Z,v(s(o).errors.content),1)):g("",!0)]),t[42]||(t[42]=e("label",{for:"category",class:"pt-2 text-sm font-semibold text-black"},"Kategori *",-1)),e("div",null,[p(e("select",{id:"category","onUpdate:modelValue":t[16]||(t[16]=l=>s(o).category=l),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 transition-colors",required:""},[...t[37]||(t[37]=[e("option",{value:"",disabled:""},"Pilih kategori berita",-1),e("option",{value:"Prestasi"},"Prestasi",-1),e("option",{value:"Liputan Kegiatan"},"Liputan Kegiatan",-1),e("option",{value:"Kerjasama"},"Kerjasama",-1)])],512),[[x,s(o).category]]),s(o).errors.category?(u(),d("p",Q,v(s(o).errors.category),1)):g("",!0)]),t[43]||(t[43]=e("label",{for:"tags",class:"pt-2 text-sm font-semibold text-black"},"Tags",-1)),e("div",null,[p(e("textarea",{id:"tags",rows:"2","onUpdate:modelValue":t[17]||(t[17]=l=>s(o).tags=l),placeholder:"Masukkan kata kunci terkait berita untuk memudahkan pencarian, pisahkan dengan koma. Contoh: Workshop, AI, Kerjasama",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 placeholder:text-sm"},null,512),[[m,s(o).tags]]),s(o).errors.tags?(u(),d("p",X,v(s(o).errors.tags),1)):g("",!0)]),t[44]||(t[44]=e("label",{for:"status",class:"pt-2 text-sm font-semibold text-black"},"Status *",-1)),e("div",null,[p(e("select",{id:"status","onUpdate:modelValue":t[18]||(t[18]=l=>s(o).status=l),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 transition-colors"},[...t[38]||(t[38]=[e("option",{value:"Draft"},"Draft",-1),e("option",{value:"Terbitkan"},"Terbitkan",-1)])],512),[[x,s(o).status]])]),t[45]||(t[45]=e("label",{for:"image",class:"pt-2 text-sm font-semibold text-black"},"Gambar *",-1)),e("div",null,[e("div",Y,[a(s(I),{class:"h-5 w-5 text-gray-400"}),e("span",{class:i(["ml-3 text-sm",{"text-gray-400":!s(o).image,"text-black":s(o).image}])},v(s(o).image?s(o).image.name:"Masukkan gambar yang sesuai"),3),e("input",{type:"file",id:"image",onInput:t[19]||(t[19]=l=>s(o).image=l.target.files?.[0]||null),class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"},null,32)]),s(o).errors.image?(u(),d("p",_,v(s(o).errors.image),1)):g("",!0)])]),e("div",tt,[a(s(A),{href:b.route("admin.posts.index"),class:"flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50"},{default:$(()=>[a(s(q),{class:"h-5 w-5"}),t[46]||(t[46]=f(" Kembali ",-1))]),_:1},8,["href"]),e("div",et,[e("button",{onClick:c,disabled:s(o).processing,class:"flex items-center gap-2 rounded-lg bg-[#CBDCEB] px-4 py-2 text-sm font-semibold text-black hover:bg-opacity-80 disabled:opacity-50"},[a(s(P),{class:"h-5 w-5"}),t[47]||(t[47]=f(" Simpan Draf ",-1))],8,st),e("button",{onClick:y,disabled:s(o).processing,class:"flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-700 disabled:opacity-50"},[a(s(E),{class:"h-5 w-5"}),t[48]||(t[48]=f(" Terbitkan ",-1))],8,ot)])])],32)])]))}});export{dt as default};
